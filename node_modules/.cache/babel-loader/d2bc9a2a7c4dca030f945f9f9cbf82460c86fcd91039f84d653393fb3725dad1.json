{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dogan\\\\Desktop\\\\Kelimo-26092025\\\\src\\\\components\\\\GameScreen.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Check, Undo2, XCircle } from 'lucide-react';\nimport GameOverScreen from './GameOverScreen';\nimport { Home } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function GameScreen({\n  socket,\n  turnData,\n  board,\n  setBoard,\n  scores,\n  statusMessage,\n  showGameOver,\n  gameOverData,\n  gameEnded,\n  onGameOver,\n  rematchPending,\n  username,\n  profileImage,\n  opponentImage,\n  opponentUsername,\n  setRematchPending,\n  setCurrentScreen,\n  onRematch,\n  isReconnect\n}) {\n  _s();\n  console.log('[GameScreen] ðŸ’¡ isReconnect prop:', isReconnect);\n  const [selectedCell, setSelectedCell] = useState(null);\n  const [enteredLetter, setEnteredLetter] = useState('');\n  const [tempPosition, setTempPosition] = useState(null);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    console.log('[GameScreen] isReconnect:', isReconnect);\n    if (isReconnect) {\n      setMessage('âª KaldÄ±ÄŸÄ±n yerden devam ediyorsun.');\n      const timer = setTimeout(() => setMessage(''), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [isReconnect]);\n  const [turnInfo, setTurnInfo] = useState('');\n  const [timer, setTimer] = useState('');\n  const [remainingTime, setRemainingTime] = useState(0);\n  const [confirmDisabled, setConfirmDisabled] = useState(false);\n  const [lastOpponentUsername, setLastOpponentUsername] = useState('');\n  const timerRef = useRef(null);\n  const [isMyTurn, setIsMyTurn] = useState(false);\n  const [letterToPlace, setLetterToPlace] = useState(null);\n  const buttonsDisabled = !isMyTurn || letterToPlace !== null;\n  const [gameStartedBefore, setGameStartedBefore] = useState(false);\n  const [selectedLetter, setSelectedLetter] = useState(null);\n  // useState'leri component Ã¼stÃ¼ne ekle\n  const [previewLetter, setPreviewLetter] = useState(null); // BasÄ±lan harf\n  const [previewPosition, setPreviewPosition] = useState({\n    x: 0,\n    y: 0\n  }); // ParmaÄŸÄ±n ekran pozisyonu\n  const letterRefs = useRef([]); // TÃ¼m harf kutularÄ±nÄ± takip etmek iÃ§in ref dizisi\n  const isMenuButtonDisabled = false;\n  console.log('[DEBUG] profileImage:', profileImage);\n  console.log('[DEBUG] opponentImage:', opponentImage);\n  console.log('[DEBUG] GameScreen aÃ§Ä±ldÄ±');\n  console.log('[DEBUG] gameOverData:', gameOverData);\n  console.log('[DEBUG] lastOpponentUsername:', lastOpponentUsername);\n  const [activeGames, setActiveGames] = useState([]);\n  const [storedOpponentImage, setStoredOpponentImage] = useState(() => {\n    return localStorage.getItem('opponentAvatar') || '/default-avatar.png';\n  });\n  console.log('storedOpponentImage:', storedOpponentImage);\n  useEffect(() => {\n    var _activeGames$;\n    console.log('activeGames deÄŸiÅŸti, yeni avatar:', activeGames === null || activeGames === void 0 ? void 0 : (_activeGames$ = activeGames[0]) === null || _activeGames$ === void 0 ? void 0 : _activeGames$.opponentImage);\n    if (activeGames && activeGames.length > 0) {\n      const currentOpponentAvatar = activeGames[0].opponentImage;\n      if (currentOpponentAvatar && currentOpponentAvatar !== storedOpponentImage) {\n        setStoredOpponentImage(currentOpponentAvatar);\n        localStorage.setItem('opponentAvatar', currentOpponentAvatar);\n      }\n    }\n  }, [activeGames]);\n  const fullProfileImage = profileImage ? profileImage.startsWith('http') ? profileImage : window.location.origin + profileImage : '/default-avatar.png';\n  const fullOpponentImage = storedOpponentImage ? storedOpponentImage.startsWith('http') ? storedOpponentImage : window.location.origin + storedOpponentImage : '/default-avatar.png';\n  const startTimer = duration => {\n    if (timerRef.current) clearInterval(timerRef.current);\n    let timeLeft = duration;\n    const formatTime = ms => {\n      const totalSeconds = Math.floor(ms / 1000);\n      const hours = Math.floor(totalSeconds / 3600);\n      const minutes = Math.floor(totalSeconds % 3600 / 60);\n      const seconds = totalSeconds % 60;\n      if (totalSeconds <= 0) return 'â° SÃ¼re doldu';\n\n      // Saatlik gÃ¶sterim (1 saatten fazla ise)\n      if (totalSeconds >= 3600) {\n        // Ã–rneÄŸin 5 saat 15 dakika varsa â†’ \"6 saat\" gÃ¶stermeliyiz\n        const roundedHour = Math.ceil(totalSeconds / 3600);\n        return `${roundedHour} saat`;\n      }\n\n      // 1 dakika ile 59 dakika arasÄ±\n      if (totalSeconds >= 60) {\n        return `${minutes} dakika`;\n      }\n\n      // Son dakika: Dakika:saniye formatÄ±\n      return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n    };\n    // Ä°lk gÃ¶sterim\n    setTimer(formatTime(timeLeft));\n    timerRef.current = setInterval(() => {\n      timeLeft -= 1000;\n      setTimer(formatTime(timeLeft));\n      if (timeLeft <= 0) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n        setTimer('â° SÃ¼re doldu');\n        setMessage('â° Hamle sÃ¼resi sona erdi.');\n        setTurnInfo('');\n      }\n    }, 1000);\n  };\n  const stopTimer = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    setTimer(''); // â¬…ï¸ DOM'a deÄŸil, state'e yazÄ±yoruz\n  };\n  const handleCellClick = (row, col) => {\n    if (gameEnded) {\n      return;\n    }\n\n    // ðŸ›‘ EÄŸer sÄ±ra sende deÄŸilse ve rakipten gelen harf de yoksa, tÄ±klama iptal\n    if (!isMyTurn && !letterToPlace) {\n      setMessage('Åžu an hamle sÄ±rasÄ± sende deÄŸil!');\n      return;\n    }\n    const cellValue = board[row][col];\n    if (cellValue !== '') {\n      setMessage('Bu hÃ¼cre dolu ve kalÄ±cÄ±, deÄŸiÅŸtiremezsin!');\n      return;\n    }\n    const clicked = {\n      row,\n      col\n    };\n    if (letterToPlace) {\n      const newBoard = board.map(r => [...r]);\n      newBoard[row][col] = letterToPlace;\n      setBoard(newBoard);\n      setMessage(`Rakibin harfi \"${letterToPlace}\" konumuna yerleÅŸtirildi.`);\n      setLetterToPlace(null);\n      setEnteredLetter('');\n      setTempPosition(null);\n      return;\n    }\n    if (selectedLetter) {\n      const newBoard = board.map(r => [...r]);\n\n      // Ã–nce eski pending harfi temizle\n      if (tempPosition) {\n        newBoard[tempPosition.row][tempPosition.col] = '';\n      }\n      newBoard[row][col] = selectedLetter;\n      setBoard(newBoard);\n      setEnteredLetter(selectedLetter);\n      setTempPosition(clicked);\n      setSelectedCell(clicked);\n      setMessage(`\"${selectedLetter}\" harfi seÃ§ilen kutuya yerleÅŸtirildi.`);\n      return;\n    }\n    if (tempPosition && enteredLetter) {\n      if (tempPosition.row !== row || tempPosition.col !== col) {\n        const newBoard = board.map(r => [...r]);\n        // Eski pending harfi temizle\n        newBoard[tempPosition.row][tempPosition.col] = '';\n\n        // Yeni harfi yerleÅŸtir\n        newBoard[row][col] = enteredLetter;\n        setBoard(newBoard);\n        setTempPosition({\n          row,\n          col\n        });\n        setSelectedCell({\n          row,\n          col\n        });\n        setMessage(`Harf (${enteredLetter}) yeni konuma taÅŸÄ±ndÄ±.`);\n      }\n    } else {\n      setSelectedCell({\n        row,\n        col\n      });\n      setEnteredLetter(board[row][col] || '');\n      setMessage('HÃ¼cre seÃ§ildi. Klavyeden harf girin.');\n    }\n  };\n  useEffect(() => {\n    if (opponentImage) {\n      setStoredOpponentImage(opponentImage);\n      localStorage.setItem('opponentAvatar', opponentImage);\n    }\n  }, [opponentImage]);\n\n  // ðŸ§  Klavye dinleyici\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (!selectedCell || letterToPlace || gameEnded) return;\n      const rawKey = e.key;\n      const letter = e.key.toLocaleUpperCase('tr-TR');\n      if (forbiddenLetters.includes(letter)) {\n        e.preventDefault();\n        setMessage(`\"${letter}\" harfi kullanÄ±lamaz.`);\n        return;\n      }\n      if (!/^[A-ZÃ‡ÄžÄ°Ã–ÅžÃœ]$/.test(letter)) return;\n      setEnteredLetter(letter);\n      setTempPosition({\n        row: selectedCell.row,\n        col: selectedCell.col\n      });\n      const newBoard = board.map(r => [...r]);\n      newBoard[selectedCell.row][selectedCell.col] = letter;\n      setBoard(newBoard);\n      setMessage(`\"${letter}\" harfi geÃ§ici olarak seÃ§ilen kutuya yerleÅŸtirildi.`);\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        confirmOwnLetter(); // ðŸ‘ˆ Enterâ€™a basÄ±ldÄ±ÄŸÄ±nda harfi sunucuya gÃ¶nder\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedCell, tempPosition, enteredLetter, gameEnded, board, socket]);\n\n  // â¬‡ï¸ State'lerin altÄ±na ekle (Ã¶rn. const [message, setMessage] = useState(''); varsa onun altÄ±)\n  const updateTurnMessages = (yourTurn, letterToPlace) => {\n    console.log('[DEBUG] updateTurnMessages Ã§aÄŸrÄ±ldÄ±:', {\n      yourTurn,\n      letterToPlace\n    });\n    if (yourTurn && letterToPlace) {\n      setMessage('Harfi klavyeden girip boÅŸ bir hÃ¼creye yerleÅŸtir.');\n      setTurnInfo('Rakipten gelen harfi yerleÅŸtir.');\n    } else if (yourTurn && !letterToPlace) {\n      setMessage('');\n      setTurnInfo('Kendi harfini girip yerleÅŸtir.');\n    } else if (!yourTurn && letterToPlace) {\n      setMessage(`Rakibin gÃ¶nderdiÄŸi harf: \"${letterToPlace}\"`);\n      setTurnInfo('Bu harfi uygun kutuya yerleÅŸtir.');\n    } else {\n      setMessage('');\n      setTurnInfo('Rakibin hamlesi bekleniyor...');\n    }\n  };\n  const handleCellDrop = (row, col, e) => {\n    e.preventDefault();\n    const letter = e.dataTransfer.getData('text/plain');\n    if (!letter || !isMyTurn) {\n      setMessage('SÄ±ra sende deÄŸil ya da geÃ§ersiz harf.');\n      return;\n    }\n    if (letterToPlace) {\n      // Rakipten gelen harfi yerleÅŸtiriyoruz\n      const newBoard = board.map(r => [...r]);\n      if (newBoard[row][col] !== '') {\n        setMessage('Bu kutu dolu!');\n        return;\n      }\n      newBoard[row][col] = letter;\n      setBoard(newBoard);\n      socket.send(JSON.stringify({\n        type: 'placeOpponentLetter',\n        row,\n        col\n      }));\n      setLetterToPlace(null);\n      setMessage(`Rakip harfi \"${letter}\" konumuna yerleÅŸtirildi.`);\n      return;\n    } else {\n      // Kendi seÃ§tiÄŸimiz harf\n      const newBoard = board.map(r => [...r]);\n      if (newBoard[row][col] !== '') {\n        setMessage('Bu kutu dolu!');\n        return;\n      }\n      newBoard[row][col] = letter;\n      setBoard(newBoard);\n      setEnteredLetter(letter);\n      setTempPosition({\n        row,\n        col\n      });\n      setSelectedCell({\n        row,\n        col\n      });\n      setMessage(`\"${letter}\" harfi seÃ§ilen kutuya yerleÅŸtirildi.`);\n    }\n  };\n  const handleLetterClick = letter => {\n    if (letterToPlace === null) {\n      setSelectedLetter(letter);\n    }\n  };\n\n  // ðŸ’¬ [YENÄ°] Ä°lk render'da mesajlarÄ± Ã¶nceden gÃ¶ster\n  useEffect(() => {\n    if (!turnData) {\n      setMessage('Oyun baÅŸlÄ±yor...');\n      setTurnInfo('Rakibin hamlesi bekleniyor...');\n    }\n  }, []);\n  useEffect(() => {\n    if (isMyTurn && !letterToPlace && tempPosition && enteredLetter) {\n      setBoard(prev => {\n        const newBoard = prev.map(r => [...r]);\n        newBoard[tempPosition.row][tempPosition.col] = enteredLetter;\n        return newBoard;\n      });\n    }\n  }, [isMyTurn, letterToPlace, tempPosition, enteredLetter]);\n  useEffect(() => {\n    var _turnData$yourTurn, _turnData$letterToPla;\n    if (!turnData) return;\n    console.log('[CLIENT] turnData gÃ¼ncellendi:', turnData);\n    const yourTurn = (_turnData$yourTurn = turnData.yourTurn) !== null && _turnData$yourTurn !== void 0 ? _turnData$yourTurn : false;\n    const letterToPlace = (_turnData$letterToPla = turnData.letterToPlace) !== null && _turnData$letterToPla !== void 0 ? _turnData$letterToPla : null;\n    setIsMyTurn(yourTurn);\n    setLetterToPlace(letterToPlace);\n    updateTurnMessages(yourTurn, letterToPlace);\n    stopTimer(); // Ã–nceki sÃ¼reyi temizle\n\n    if (turnData.turnDuration) {\n      startTimer(turnData.turnDuration);\n    }\n    if (turnData.remainingTime) {\n      setRemainingTime(Math.floor(turnData.remainingTime / 1000)); // saniyeye Ã§evir\n    }\n    return () => {\n      stopTimer(); // Component unmount edildiÄŸinde de timer'Ä± durdur\n    };\n  }, [turnData]);\n  useEffect(() => {\n    console.log(`[CLIENT] isMyTurn: ${isMyTurn}, letterToPlace: ${letterToPlace}`);\n    updateTurnMessages(isMyTurn, letterToPlace);\n  }, [isMyTurn, letterToPlace]);\n  useEffect(() => {\n    if (turnData) {\n      setSelectedCell(null);\n      setEnteredLetter('');\n      setTempPosition(null);\n    }\n  }, [turnData]);\n  useEffect(() => {\n    console.log('[DEBUG] useEffect [gameOverData] tetiklendi', gameOverData);\n    if (gameOverData !== null && gameOverData !== void 0 && gameOverData.opponentUsername) {\n      console.log('[DEBUG] opponentUsername yÃ¼klendi:', gameOverData.opponentUsername);\n      setLastOpponentUsername(gameOverData.opponentUsername);\n    } else {\n      console.log('[DEBUG] Rakip adÄ± yok, set edilmeyecek.');\n    }\n  }, [gameOverData]);\n  const forbiddenLetters = ['X', 'W', 'Q'];\n  const confirmOwnLetter = () => {\n    console.log('[DEBUG] confirmOwnLetter Ã§alÄ±ÅŸtÄ±');\n    console.log('[DEBUG] turnData:', turnData);\n    console.log('[DEBUG] letterToPlace:', letterToPlace);\n    console.log('[DEBUG] enteredLetter:', enteredLetter);\n    console.log('[DEBUG] tempPosition:', tempPosition);\n    console.log('[DEBUG] selectedCell:', selectedCell);\n    if (!(turnData !== null && turnData !== void 0 && turnData.yourTurn) || letterToPlace !== null) {\n      setMessage('SÄ±ra sende deÄŸil ya da hala rakip harfini yerleÅŸtirmedin.');\n      return;\n    }\n    if (!selectedCell || !enteredLetter || !tempPosition) {\n      setMessage('Harf giriÅŸi eksik.');\n      return;\n    }\n    if (forbiddenLetters.includes(enteredLetter.toUpperCase())) {\n      setMessage(`\"${enteredLetter.toUpperCase()}\" harfi kullanÄ±lamaz.`);\n      return;\n    }\n    console.log('[DEBUG] Sunucuya harf gÃ¶nderiliyor...');\n    // ðŸ›‘ SÃ¼reyi durdur\n    stopTimer();\n\n    // ðŸ”§ ÅžU ÅžEKÄ°LDE GÃ–NDER:\n    socket.send(JSON.stringify({\n      type: 'updateOwnLetterPlacement',\n      letter: enteredLetter,\n      row: tempPosition.row,\n      col: tempPosition.col\n    }));\n    socket.send(JSON.stringify({\n      type: 'placeOwnLetter'\n    }));\n    setMessage(`Harf yerleÅŸtirildi: ${enteredLetter.toUpperCase()} (${tempPosition.row}, ${tempPosition.col})`);\n    setEnteredLetter('');\n    setTempPosition(null);\n    setSelectedCell(null);\n    setSelectedLetter(null);\n    updateTurnMessages(false, null);\n  };\n  console.log('[DEBUG] GameScreen render', {\n    gameEnded,\n    lastOpponentUsername,\n    gameOverData\n  });\n  const secondsLeft = parseInt(timer);\n  useEffect(() => {\n    if (!turnData && !gameStartedBefore) {\n      setMessage('ðŸŽ¯ Ä°lk harfler geliyor... HazÄ±r ol!');\n      setGameStartedBefore(true);\n    }\n  }, [turnData, gameStartedBefore]);\n  useEffect(() => {\n    letterRefs.current = []; // Her render'da sÄ±fÄ±rlanmalÄ±\n  }, [/* harf havuzu deÄŸiÅŸtiÄŸinde (genellikle sabit olduÄŸu iÃ§in boÅŸ bÄ±rakabilirsin) */]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 flex flex-col items-center bg-[#f2f1f7] px-2 pt-[120px] pb-8 w-full min-h-screen overflow-hidden sm:relative sm:overflow-auto sm:h-auto sm:min-h-screen\",\n      children: [previewLetter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed z-50 pointer-events-none\",\n        style: {\n          top: previewPosition.y - 90,\n          // â¬…ï¸ -60 yerine -90 veya -100 yap\n          left: previewPosition.x - 30\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-w-[60px] px-4 h-16 rounded-xl bg-white border border-gray-300 shadow-xl flex items-center justify-center text-4xl font-extrabold text-gray-900 scale-110 transition transform duration-75 ease-out\",\n          children: previewLetter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full fixed top-0 left-0 z-50 px-4 py-2 sm:py-3 bg-white/90 backdrop-blur-md shadow-sm flex items-center justify-between border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: fullProfileImage,\n            alt: \"Sen\",\n            className: \"w-8 h-8 rounded-full border border-indigo-400 object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm sm:text-base font-semibold text-gray-600 text-center w-full\",\n              children: username || 'Sen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm sm:text-base font-bold text-indigo-700\",\n              children: scores.myScore\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs sm:text-sm font-medium text-gray-700 truncate\",\n              children: opponentUsername || 'Rakip'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm sm:text-base font-bold text-indigo-700\",\n              children: scores.opponentScore\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: fullOpponentImage,\n            alt: \"Rakip\",\n            className: \"w-8 h-8 rounded-full border border-gray-400 object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed top-[56px] left-0 w-full z-40 px-4 py-2 sm:py-3 bg-white/90 backdrop-blur-md shadow-md border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between w-full max-w-[720px] mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-start w-24 sm:w-28\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm sm:text-base font-semibold text-gray-600 text-center w-full\",\n              children: \"S\\xFCre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-center text-lg font-bold rounded-xl shadow text-center w-24 sm:w-28 h-10 sm:h-12 border\n        ${timer.includes('saat') ? 'bg-green-100 text-green-700 border-green-200' : timer.includes('dakika') ? 'bg-yellow-100 text-yellow-700 border-yellow-200' : timer.includes(':') ? 'bg-red-100 text-red-600 border-red-200 animate-pulse' : 'bg-gray-200 text-gray-500 border-gray-300'}\n    `,\n              children: timer || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl sm:text-5xl font-display font-black text-indigo-600 tracking-tight leading-tight drop-shadow-sm\",\n            children: \"Kelimo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-end w-24 sm:w-28\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm sm:text-base font-semibold text-gray-600 text-center w-full\",\n              children: \"Gelen Harf\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center text-lg font-bold text-indigo-800 rounded-xl shadow text-center w-24 sm:w-28 h-10 sm:h-12 border bg-indigo-50 border-indigo-200\",\n              children: letterToPlace ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"leading-none\",\n                children: letterToPlace\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 9\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400 text-xl\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full text-center mt-4 sm:mt-10 mb-2 sm:mb-2 px-4 space-y-1 sm:space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-h-[20px]\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm text-gray-500 italic transition-opacity duration-300 ${message ? 'opacity-100' : 'opacity-0'}`,\n            children: message || '.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-h-[28px]\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-lg font-bold text-blue-700 transition-opacity duration-300 ${turnInfo ? 'opacity-100' : 'opacity-0'}`,\n            children: turnInfo || '.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[70vw] max-w-[340px] relative mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-[100%]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gray-200 border-2 border-gray-600 rounded-lg p-1 sm:p-1.5 md:p-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-full w-full grid grid-cols-5 gap-[2.5%]`,\n              children: board.map((row, rowIndex) => row.map((cell, colIndex) => {\n                const isSelected = selectedCell && selectedCell.row === rowIndex && selectedCell.col === colIndex;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => handleCellClick(rowIndex, colIndex),\n                  className: `\n  aspect-square\n  w-full\n  border border-gray-300 rounded-lg\n  flex items-center justify-center \n  font-bold text-base sm:text-lg md:text-xl\n  cursor-pointer transition-all duration-150\n  ${cell ? 'bg-yellow-200 text-gray-900' : 'bg-white text-gray-600'}\n  ${isSelected ? 'ring-2 ring-yellow-300' : ''}\n  hover:bg-yellow-100\n  overflow-hidden\n  leading-none\n  text-center\n`,\n                  children: cell || ''\n                }, `${rowIndex}-${colIndex}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 13\n                }, this);\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center space-x-2 sm:space-x-4 mt-3 sm:mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            title: \"Girdi\\u011Fin harfi onayla\",\n            onClick: confirmOwnLetter,\n            disabled: buttonsDisabled || !selectedCell || !enteredLetter || !tempPosition,\n            className: `flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-xl font-semibold text-white transition-all duration-150\n  ${buttonsDisabled || !selectedCell || !enteredLetter || !tempPosition ? 'bg-green-200 text-gray-400 cursor-not-allowed' : 'bg-green-400 hover:bg-green-500 active:scale-95 shadow-md active:shadow-inner cursor-pointer'}`,\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              className: \"w-5 h-5 sm:w-6 sm:h-6 mb-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-semibold\",\n              children: \"Onayla\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            title: \"Girdi\\u011Fin harfi geri al\",\n            onClick: () => {\n              if (!tempPosition) {\n                setMessage('Geri alÄ±nacak hamle yok.');\n                return;\n              }\n              const newBoard = board.map(r => [...r]);\n              newBoard[tempPosition.row][tempPosition.col] = '';\n              setBoard(newBoard);\n              setEnteredLetter('');\n              setTempPosition(null);\n              setSelectedCell(null);\n              socket.send(JSON.stringify({\n                type: 'updateOwnLetterPlacement',\n                letter: '',\n                row: tempPosition.row,\n                col: tempPosition.col,\n                oldRow: tempPosition.row,\n                oldCol: tempPosition.col\n              }));\n              setMessage('Son harf geri alÄ±ndÄ±.');\n            },\n            disabled: buttonsDisabled,\n            className: \"flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-yellow-300 hover:bg-yellow-400 active:scale-95 text-gray-800 rounded-xl shadow-md active:shadow-inner transition-all duration-150\",\n            children: [/*#__PURE__*/_jsxDEV(Undo2, {\n              className: \"w-5 h-5 sm:w-6 sm:h-6 mb-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-semibold\",\n              children: \"Geri Al\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            title: \"Oyunu terk et\",\n            onClick: () => {\n              socket.send(JSON.stringify({\n                type: 'forfeit'\n              }));\n              setMessage('Oyundan Ã§ekildiniz.');\n            },\n            disabled: buttonsDisabled,\n            className: \"flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-red-300 hover:bg-red-400 active:scale-95 text-gray-800 rounded-xl shadow-md active:shadow-inner transition-all duration-150\",\n            children: [/*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"w-5 h-5 sm:w-6 sm:h-6 mb-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-semibold\",\n              children: \"Pes Et\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            title: \"Ana men\\xFCye d\\xF6n\",\n            onClick: () => {\n              setCurrentScreen('start');\n              socket.send(JSON.stringify({\n                type: 'minimizeGame'\n              }));\n            },\n            disabled: false,\n            className: \"flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gray-400 hover:bg-gray-500 active:scale-95 text-white rounded-xl shadow-md active:shadow-inner transition-all duration-150\",\n            children: [/*#__PURE__*/_jsxDEV(Home, {\n              className: \"w-5 h-5 sm:w-6 sm:h-6 mb-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-semibold\",\n              children: \"Ana Men\\xFC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 1\n          }, this), showGameOver && gameOverData && /*#__PURE__*/_jsxDEV(GameOverScreen, {\n            data: gameOverData,\n            username: gameOverData.username,\n            playerScore: gameOverData.playerScore,\n            opponentScore: gameOverData.opponentScore,\n            playerDetails: gameOverData.playerDetails,\n            opponentDetails: gameOverData.opponentDetails,\n            playerBoardHTML: gameOverData.playerBoardHTML,\n            opponentBoardHTML: gameOverData.opponentBoardHTML,\n            onRematch: handleRematch,\n            rematchPending: rematchPending,\n            setRematchPending: setRematchPending,\n            socket: socket\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block sm:hidden h-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block sm:hidden w-full px-2 flex flex-col items-center space-y-1\",\n        children: [['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', 'Äž', 'Ãœ'], ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'Åž', 'Ä°'], ['Z', 'X', 'C', 'V', 'B', 'N', 'M', 'Ã–', 'Ã‡']].map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-[1px] sm:gap-[1px]\",\n          children: row.map((letter, i) => {\n            const isInactive = ['Q', 'W', 'X'].includes(letter);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: el => {\n                if (el) letterRefs.current.push(el);\n              } // â¬…ï¸ Bu kutuyu refs listesine ekliyoruz\n              ,\n              \"data-letter\": letter // â¬…ï¸ Bu kutunun hangi harf olduÄŸunu belirtiyoruz\n              ,\n\n              onClick: () => {\n                if (!isInactive) handleLetterClick(letter);\n              },\n              onTouchStart: e => {\n                if (!isInactive) {\n                  const touch = e.touches[0];\n                  setPreviewLetter(letter); // Harfi gÃ¶ster\n                  setPreviewPosition({\n                    x: touch.clientX,\n                    y: touch.clientY\n                  }); // ParmaÄŸÄ±n konumu\n                }\n              },\n              onTouchEnd: e => {\n                const touch = e.changedTouches[0]; // ðŸŸ¡ ParmaÄŸÄ±n bÄ±rakÄ±ldÄ±ÄŸÄ± pozisyonu al\n                setPreviewLetter(null); // ðŸŸ¡ Ã–nizlemeyi kaldÄ±r\n\n                const hoveredLetter = letterRefs.current.find(el => {\n                  const rect = el.getBoundingClientRect();\n                  return touch.clientX >= rect.left && touch.clientX <= rect.right && touch.clientY >= rect.top && touch.clientY <= rect.bottom;\n                });\n                if (hoveredLetter) {\n                  const selected = hoveredLetter.getAttribute('data-letter');\n                  if (!['Q', 'W', 'X'].includes(selected)) {\n                    handleLetterClick(selected); // ðŸŸ¢ BÄ±rakÄ±ldÄ±ÄŸÄ±nda o harfi gerÃ§ek seÃ§im yap\n                    setSelectedLetter(selected); // ðŸŸ¢ UI'da da gÃ¶ster\n                  }\n                }\n              },\n              onTouchMove: e => {\n                const touch = e.touches[0];\n                setPreviewPosition({\n                  x: touch.clientX,\n                  y: touch.clientY\n                }); // â¬…ï¸ ParmaÄŸÄ±n pozisyonunu gÃ¼ncelle\n                // â¬‡ï¸ Åžu anki parmak konumunun altÄ±nda bir harf kutusu var mÄ± kontrol et\n                const hoveredLetter = letterRefs.current.find(el => {\n                  const rect = el.getBoundingClientRect();\n                  return touch.clientX >= rect.left && touch.clientX <= rect.right && touch.clientY >= rect.top && touch.clientY <= rect.bottom;\n                });\n\n                // â¬‡ï¸ EÄŸer farklÄ± bir harf altÄ±na geldiysek, Ã¶nizleme harfini gÃ¼ncelle\n                if (hoveredLetter) {\n                  const newLetter = hoveredLetter.getAttribute('data-letter');\n                  if (newLetter !== previewLetter) {\n                    setPreviewLetter(newLetter);\n                  }\n                }\n              },\n              className: `\n              w-[7.7vw] h-[10vw] sm:w-[6vw] sm:h-[7.6vw] md:w-[4.4vw] md:h-[6.2vw]\n              flex items-center justify-center\n              font-bold text-sm sm:text-base md:text-lg\n              rounded-xl border transition-all duration-150 ease-in-out\n              ${isInactive ? 'bg-gray-200 text-gray-400 border-gray-300 cursor-not-allowed' : `bg-white text-indigo-900 border-indigo-300 shadow cursor-pointer\n                   ${selectedLetter === letter ? 'ring-2 ring-indigo-500 bg-indigo-100 scale-110 -translate-y-1' : ''}`}\n            `,\n              children: letter\n            }, `letter-${rowIndex}-${i}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 9\n            }, this);\n          })\n        }, `row-${rowIndex}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 5\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n_s(GameScreen, \"skGxdhO/BIhCnVq0XX2hwIBVkFY=\");\n_c = GameScreen;\nvar _c;\n$RefreshReg$(_c, \"GameScreen\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Check","Undo2","XCircle","GameOverScreen","Home","jsxDEV","_jsxDEV","Fragment","_Fragment","GameScreen","socket","turnData","board","setBoard","scores","statusMessage","showGameOver","gameOverData","gameEnded","onGameOver","rematchPending","username","profileImage","opponentImage","opponentUsername","setRematchPending","setCurrentScreen","onRematch","isReconnect","_s","console","log","selectedCell","setSelectedCell","enteredLetter","setEnteredLetter","tempPosition","setTempPosition","message","setMessage","timer","setTimeout","clearTimeout","turnInfo","setTurnInfo","setTimer","remainingTime","setRemainingTime","confirmDisabled","setConfirmDisabled","lastOpponentUsername","setLastOpponentUsername","timerRef","isMyTurn","setIsMyTurn","letterToPlace","setLetterToPlace","buttonsDisabled","gameStartedBefore","setGameStartedBefore","selectedLetter","setSelectedLetter","previewLetter","setPreviewLetter","previewPosition","setPreviewPosition","x","y","letterRefs","isMenuButtonDisabled","activeGames","setActiveGames","storedOpponentImage","setStoredOpponentImage","localStorage","getItem","_activeGames$","length","currentOpponentAvatar","setItem","fullProfileImage","startsWith","window","location","origin","fullOpponentImage","startTimer","duration","current","clearInterval","timeLeft","formatTime","ms","totalSeconds","Math","floor","hours","minutes","seconds","roundedHour","ceil","toString","padStart","setInterval","stopTimer","handleCellClick","row","col","cellValue","clicked","newBoard","map","r","handleKeyDown","e","rawKey","key","letter","toLocaleUpperCase","forbiddenLetters","includes","preventDefault","test","confirmOwnLetter","addEventListener","removeEventListener","updateTurnMessages","yourTurn","handleCellDrop","dataTransfer","getData","send","JSON","stringify","type","handleLetterClick","prev","_turnData$yourTurn","_turnData$letterToPla","turnDuration","toUpperCase","secondsLeft","parseInt","children","className","style","top","left","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","myScore","opponentScore","rowIndex","cell","colIndex","isSelected","onClick","title","disabled","oldRow","oldCol","data","playerScore","playerDetails","opponentDetails","playerBoardHTML","opponentBoardHTML","handleRematch","i","isInactive","ref","el","push","onTouchStart","touch","touches","clientX","clientY","onTouchEnd","changedTouches","hoveredLetter","find","rect","getBoundingClientRect","right","bottom","selected","getAttribute","onTouchMove","newLetter","_c","$RefreshReg$"],"sources":["C:/Users/dogan/Desktop/Kelimo-26092025/src/components/GameScreen.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, } from 'react';\r\nimport { Check, Undo2, XCircle } from 'lucide-react';\r\nimport GameOverScreen from './GameOverScreen';\r\nimport { Home } from 'lucide-react';\r\n\r\nexport default function GameScreen({\r\n\r\n  socket,\r\n  turnData,\r\n  board,\r\n  setBoard,\r\n  scores,\r\n  statusMessage,\r\n  showGameOver,\r\n  gameOverData,\r\n  gameEnded,\r\n  onGameOver,\r\n  rematchPending,\r\n  username,\r\n  profileImage,\r\n  opponentImage,\r\n  opponentUsername,\r\n  setRematchPending,\r\n  setCurrentScreen,\r\n  onRematch,\r\n  isReconnect\r\n}) {\r\n  console.log('[GameScreen] ðŸ’¡ isReconnect prop:', isReconnect);\r\n\r\nconst [selectedCell, setSelectedCell] = useState(null);\r\nconst [enteredLetter, setEnteredLetter] = useState('');\r\nconst [tempPosition, setTempPosition] = useState(null);\r\nconst [message, setMessage] = useState('');\r\n\r\nuseEffect(() => {\r\n  console.log('[GameScreen] isReconnect:', isReconnect);\r\n    if (isReconnect) {\r\n      setMessage('âª KaldÄ±ÄŸÄ±n yerden devam ediyorsun.');\r\n      const timer = setTimeout(() => setMessage(''), 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isReconnect]);\r\n\r\nconst [turnInfo, setTurnInfo] = useState('');\r\nconst [timer, setTimer] = useState('');\r\nconst [remainingTime, setRemainingTime] = useState(0);\r\nconst [confirmDisabled, setConfirmDisabled] = useState(false);\r\nconst [lastOpponentUsername, setLastOpponentUsername] = useState('');\r\nconst timerRef = useRef(null);\r\nconst [isMyTurn, setIsMyTurn] = useState(false);\r\nconst [letterToPlace, setLetterToPlace] = useState(null);\r\nconst buttonsDisabled = !isMyTurn || letterToPlace !== null;\r\n\r\nconst [gameStartedBefore, setGameStartedBefore] = useState(false);\r\nconst [selectedLetter, setSelectedLetter] = useState(null);\r\n// useState'leri component Ã¼stÃ¼ne ekle\r\nconst [previewLetter, setPreviewLetter] = useState(null);         // BasÄ±lan harf\r\nconst [previewPosition, setPreviewPosition] = useState({ x: 0, y: 0 }); // ParmaÄŸÄ±n ekran pozisyonu\r\nconst letterRefs = useRef([]); // TÃ¼m harf kutularÄ±nÄ± takip etmek iÃ§in ref dizisi\r\nconst isMenuButtonDisabled = false;\r\nconsole.log('[DEBUG] profileImage:', profileImage);\r\nconsole.log('[DEBUG] opponentImage:', opponentImage);\r\n\r\nconsole.log('[DEBUG] GameScreen aÃ§Ä±ldÄ±');\r\nconsole.log('[DEBUG] gameOverData:', gameOverData);\r\nconsole.log('[DEBUG] lastOpponentUsername:', lastOpponentUsername);\r\nconst [activeGames, setActiveGames] = useState([]);\r\nconst [storedOpponentImage, setStoredOpponentImage] = useState(() => {\r\n    return localStorage.getItem('opponentAvatar') || '/default-avatar.png';\r\n  });\r\nconsole.log('storedOpponentImage:', storedOpponentImage);\r\nuseEffect(() => {\r\n  console.log('activeGames deÄŸiÅŸti, yeni avatar:', activeGames?.[0]?.opponentImage);\r\n    if (activeGames && activeGames.length > 0) {\r\n      const currentOpponentAvatar = activeGames[0].opponentImage;\r\n      if (currentOpponentAvatar && currentOpponentAvatar !== storedOpponentImage) {\r\n        setStoredOpponentImage(currentOpponentAvatar);\r\n        localStorage.setItem('opponentAvatar', currentOpponentAvatar);\r\n      }\r\n    }\r\n  }, [activeGames]);\r\n\r\nconst fullProfileImage = profileImage\r\n  ? (profileImage.startsWith('http') ? profileImage : window.location.origin + profileImage)\r\n  : '/default-avatar.png';\r\n\r\n  const fullOpponentImage = storedOpponentImage\r\n    ? (storedOpponentImage.startsWith('http') ? storedOpponentImage : window.location.origin + storedOpponentImage)\r\n    : '/default-avatar.png';\r\n\r\nconst startTimer = (duration) => {\r\n  if (timerRef.current) clearInterval(timerRef.current);\r\n\r\n  let timeLeft = duration;\r\n\r\n  const formatTime = (ms) => {\r\n    const totalSeconds = Math.floor(ms / 1000);\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n    const seconds = totalSeconds % 60;\r\n\r\n    if (totalSeconds <= 0) return 'â° SÃ¼re doldu';\r\n    \r\n     // Saatlik gÃ¶sterim (1 saatten fazla ise)\r\n  if (totalSeconds >= 3600) {\r\n    // Ã–rneÄŸin 5 saat 15 dakika varsa â†’ \"6 saat\" gÃ¶stermeliyiz\r\n    const roundedHour = Math.ceil(totalSeconds / 3600);\r\n    return `${roundedHour} saat`;\r\n  }\r\n\r\n  // 1 dakika ile 59 dakika arasÄ±\r\n  if (totalSeconds >= 60) {\r\n    return `${minutes} dakika`;\r\n  }\r\n\r\n  // Son dakika: Dakika:saniye formatÄ±\r\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n};\r\n  // Ä°lk gÃ¶sterim\r\n  setTimer(formatTime(timeLeft));\r\n\r\n  timerRef.current = setInterval(() => {\r\n    timeLeft -= 1000;\r\n\r\n    setTimer(formatTime(timeLeft));\r\n\r\n    if (timeLeft <= 0) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n      setTimer('â° SÃ¼re doldu');\r\n      setMessage('â° Hamle sÃ¼resi sona erdi.');\r\n      setTurnInfo('');\r\n    }\r\n  }, 1000);\r\n};\r\nconst stopTimer = () => {\r\n  if (timerRef.current) {\r\n    clearInterval(timerRef.current);\r\n    timerRef.current = null;\r\n  }\r\n\r\n  setTimer(''); // â¬…ï¸ DOM'a deÄŸil, state'e yazÄ±yoruz\r\n};\r\n\r\n\r\nconst handleCellClick = (row, col) => {\r\n    if (gameEnded) {\r\n  return;\r\n}\r\n\r\n// ðŸ›‘ EÄŸer sÄ±ra sende deÄŸilse ve rakipten gelen harf de yoksa, tÄ±klama iptal\r\nif (!isMyTurn && !letterToPlace) {\r\n  setMessage('Åžu an hamle sÄ±rasÄ± sende deÄŸil!');\r\n  return;\r\n}\r\n\r\n    const cellValue = board[row][col];\r\n\r\n    if (cellValue !== '') {\r\n      setMessage('Bu hÃ¼cre dolu ve kalÄ±cÄ±, deÄŸiÅŸtiremezsin!');\r\n      return;\r\n    }\r\n\r\n    const clicked = { row, col };\r\n\r\n    if (letterToPlace) {\r\n    const newBoard = board.map(r => [...r]);\r\n    newBoard[row][col] = letterToPlace;\r\n    setBoard(newBoard);\r\n    \r\n    setMessage(`Rakibin harfi \"${letterToPlace}\" konumuna yerleÅŸtirildi.`);\r\n    setLetterToPlace(null);\r\n    setEnteredLetter('');\r\n    setTempPosition(null);\r\n    return;\r\n  }\r\n  if (selectedLetter) {\r\n    const newBoard = board.map(r => [...r]);\r\n    \r\n    // Ã–nce eski pending harfi temizle\r\n  if (tempPosition) {\r\n    newBoard[tempPosition.row][tempPosition.col] = '';\r\n  }\r\n    \r\n    newBoard[row][col] = selectedLetter;\r\n    setBoard(newBoard);\r\n    setEnteredLetter(selectedLetter);\r\n    setTempPosition(clicked);\r\n    setSelectedCell(clicked);\r\n    setMessage(`\"${selectedLetter}\" harfi seÃ§ilen kutuya yerleÅŸtirildi.`);\r\n    return;\r\n  }\r\n\r\n    if (tempPosition && enteredLetter) {\r\n      if (tempPosition.row !== row || tempPosition.col !== col) {\r\n        const newBoard = board.map(r => [...r]);\r\n        // Eski pending harfi temizle\r\n    newBoard[tempPosition.row][tempPosition.col] = '';\r\n\r\n    // Yeni harfi yerleÅŸtir\r\n    newBoard[row][col] = enteredLetter;\r\n\r\n    setBoard(newBoard);\r\n        setTempPosition({ row, col });\r\n    setSelectedCell({ row, col });\r\n    setMessage(`Harf (${enteredLetter}) yeni konuma taÅŸÄ±ndÄ±.`);\r\n  }\r\n} else {\r\n  setSelectedCell({ row, col });\r\n  setEnteredLetter(board[row][col] || '');\r\n  setMessage('HÃ¼cre seÃ§ildi. Klavyeden harf girin.');\r\n}\r\n};\r\n\r\nuseEffect(() => {\r\n    if (opponentImage) {\r\n      setStoredOpponentImage(opponentImage);\r\n      localStorage.setItem('opponentAvatar', opponentImage);\r\n    }\r\n  }, [opponentImage]);\r\n\r\n\r\n// ðŸ§  Klavye dinleyici\r\nuseEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (!selectedCell || letterToPlace || gameEnded) return;\r\n\r\n      const rawKey = e.key;\r\n      const letter = e.key.toLocaleUpperCase('tr-TR');\r\n      if (forbiddenLetters.includes(letter)) {\r\n      e.preventDefault();\r\n      setMessage(`\"${letter}\" harfi kullanÄ±lamaz.`);\r\n      return;\r\n    }\r\n      if (!/^[A-ZÃ‡ÄžÄ°Ã–ÅžÃœ]$/.test(letter)) return;\r\n\r\n      setEnteredLetter(letter);\r\n      setTempPosition({ row: selectedCell.row, col: selectedCell.col });\r\n\r\n      const newBoard = board.map(r => [...r]);\r\n      newBoard[selectedCell.row][selectedCell.col] = letter;\r\n      setBoard(newBoard);\r\n\r\n      setMessage(`\"${letter}\" harfi geÃ§ici olarak seÃ§ilen kutuya yerleÅŸtirildi.`);\r\n\r\n      if (e.key === 'Enter') {\r\n  e.preventDefault();\r\n  confirmOwnLetter(); // ðŸ‘ˆ Enterâ€™a basÄ±ldÄ±ÄŸÄ±nda harfi sunucuya gÃ¶nder\r\n}\r\n\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n}, [selectedCell, tempPosition, enteredLetter, gameEnded, board, socket]);\r\n\r\n// â¬‡ï¸ State'lerin altÄ±na ekle (Ã¶rn. const [message, setMessage] = useState(''); varsa onun altÄ±)\r\nconst updateTurnMessages = (yourTurn, letterToPlace) => {\r\n  console.log('[DEBUG] updateTurnMessages Ã§aÄŸrÄ±ldÄ±:', { yourTurn, letterToPlace });\r\n  if (yourTurn && letterToPlace) {\r\n    setMessage('Harfi klavyeden girip boÅŸ bir hÃ¼creye yerleÅŸtir.');\r\n    setTurnInfo('Rakipten gelen harfi yerleÅŸtir.');\r\n  } else if (yourTurn && !letterToPlace) {\r\n    setMessage('');\r\n    setTurnInfo('Kendi harfini girip yerleÅŸtir.');\r\n  } else if (!yourTurn && letterToPlace) {\r\n    setMessage(`Rakibin gÃ¶nderdiÄŸi harf: \"${letterToPlace}\"`);\r\n    setTurnInfo('Bu harfi uygun kutuya yerleÅŸtir.');\r\n  } else {\r\n    setMessage('');\r\n    setTurnInfo('Rakibin hamlesi bekleniyor...');\r\n  }\r\n};\r\nconst handleCellDrop = (row, col, e) => {\r\n  e.preventDefault();\r\n  const letter = e.dataTransfer.getData('text/plain');\r\n\r\n  if (!letter || !isMyTurn) {\r\n    setMessage('SÄ±ra sende deÄŸil ya da geÃ§ersiz harf.');\r\n    return;\r\n  }\r\n\r\n  if (letterToPlace) {\r\n    // Rakipten gelen harfi yerleÅŸtiriyoruz\r\n    const newBoard = board.map(r => [...r]);\r\n    if (newBoard[row][col] !== '') {\r\n      setMessage('Bu kutu dolu!');\r\n      return;\r\n    }\r\n\r\n    newBoard[row][col] = letter;\r\n    setBoard(newBoard);\r\n\r\n    socket.send(JSON.stringify({ type: 'placeOpponentLetter', row, col }));\r\n    setLetterToPlace(null);\r\n    setMessage(`Rakip harfi \"${letter}\" konumuna yerleÅŸtirildi.`);\r\n    return;\r\n  } else {\r\n    // Kendi seÃ§tiÄŸimiz harf\r\n    const newBoard = board.map(r => [...r]);\r\n    if (newBoard[row][col] !== '') {\r\n      setMessage('Bu kutu dolu!');\r\n      return;\r\n    }\r\n\r\n    newBoard[row][col] = letter;\r\n    setBoard(newBoard);\r\n    setEnteredLetter(letter);\r\n    setTempPosition({ row, col });\r\n    setSelectedCell({ row, col });\r\n    setMessage(`\"${letter}\" harfi seÃ§ilen kutuya yerleÅŸtirildi.`);\r\n  }\r\n};\r\n\r\nconst handleLetterClick = (letter) => {\r\n  if (letterToPlace === null) {\r\n    setSelectedLetter(letter);\r\n  }\r\n};\r\n\r\n\r\n// ðŸ’¬ [YENÄ°] Ä°lk render'da mesajlarÄ± Ã¶nceden gÃ¶ster\r\nuseEffect(() => {\r\n  if (!turnData) {\r\n    setMessage('Oyun baÅŸlÄ±yor...');\r\n    setTurnInfo('Rakibin hamlesi bekleniyor...');\r\n  }\r\n}, []);\r\n\r\nuseEffect(() => {\r\n\r\n  if (isMyTurn && !letterToPlace && tempPosition && enteredLetter) {\r\n    setBoard(prev => {\r\n      const newBoard = prev.map(r => [...r]);\r\n      newBoard[tempPosition.row][tempPosition.col] = enteredLetter;\r\n      return newBoard;\r\n    });\r\n  }\r\n}, [isMyTurn, letterToPlace, tempPosition, enteredLetter]);\r\n\r\nuseEffect(() => {\r\n  \r\nif (!turnData) return;\r\nconsole.log('[CLIENT] turnData gÃ¼ncellendi:', turnData);\r\n\r\nconst yourTurn = turnData.yourTurn ?? false;\r\nconst letterToPlace = turnData.letterToPlace ?? null;\r\n\r\nsetIsMyTurn(yourTurn);\r\nsetLetterToPlace(letterToPlace);\r\n\r\nupdateTurnMessages(yourTurn, letterToPlace);\r\n\r\nstopTimer(); // Ã–nceki sÃ¼reyi temizle\r\n\r\nif (turnData.turnDuration) {\r\n    startTimer(turnData.turnDuration);\r\n  }\r\n\r\nif (turnData.remainingTime) {\r\n    setRemainingTime(Math.floor(turnData.remainingTime / 1000)); // saniyeye Ã§evir\r\n  }\r\n\r\nreturn () => {\r\n  stopTimer(); // Component unmount edildiÄŸinde de timer'Ä± durdur\r\n };\r\n}, [turnData]);\r\n\r\nuseEffect(() => {\r\n    console.log(`[CLIENT] isMyTurn: ${isMyTurn}, letterToPlace: ${letterToPlace}`);\r\n    updateTurnMessages(isMyTurn, letterToPlace);\r\n  }, [isMyTurn, letterToPlace]);\r\n\r\nuseEffect(() => {\r\n  if (turnData) {\r\n    setSelectedCell(null);\r\n    setEnteredLetter('');\r\n    setTempPosition(null);\r\n  }\r\n}, [turnData]);\r\n\r\nuseEffect(() => {\r\n  console.log('[DEBUG] useEffect [gameOverData] tetiklendi', gameOverData);\r\n  if (gameOverData?.opponentUsername) {\r\n    console.log('[DEBUG] opponentUsername yÃ¼klendi:', gameOverData.opponentUsername);\r\n    setLastOpponentUsername(gameOverData.opponentUsername);\r\n  } else {\r\n    console.log('[DEBUG] Rakip adÄ± yok, set edilmeyecek.');\r\n  }\r\n}, [gameOverData]);\r\n\r\nconst forbiddenLetters = ['X', 'W', 'Q'];\r\n\r\nconst confirmOwnLetter = () => {\r\n  console.log('[DEBUG] confirmOwnLetter Ã§alÄ±ÅŸtÄ±');\r\n  console.log('[DEBUG] turnData:', turnData);\r\n  console.log('[DEBUG] letterToPlace:', letterToPlace);\r\n  console.log('[DEBUG] enteredLetter:', enteredLetter);\r\n  console.log('[DEBUG] tempPosition:', tempPosition);\r\n  console.log('[DEBUG] selectedCell:', selectedCell);\r\n  if (!turnData?.yourTurn || letterToPlace !== null) {\r\n    setMessage('SÄ±ra sende deÄŸil ya da hala rakip harfini yerleÅŸtirmedin.');\r\n    return;\r\n  }\r\n\r\n  if (!selectedCell || !enteredLetter || !tempPosition) {\r\n    setMessage('Harf giriÅŸi eksik.');\r\n    return;\r\n  }\r\n\r\n  if (forbiddenLetters.includes(enteredLetter.toUpperCase())) {\r\n    setMessage(`\"${enteredLetter.toUpperCase()}\" harfi kullanÄ±lamaz.`);\r\n    return;\r\n  }\r\n\r\nconsole.log('[DEBUG] Sunucuya harf gÃ¶nderiliyor...');\r\n  // ðŸ›‘ SÃ¼reyi durdur\r\n  stopTimer();\r\n\r\n  // ðŸ”§ ÅžU ÅžEKÄ°LDE GÃ–NDER:\r\n  socket.send(JSON.stringify({\r\n    type: 'updateOwnLetterPlacement',\r\n    letter: enteredLetter,\r\n    row: tempPosition.row,\r\n    col: tempPosition.col\r\n  }));\r\n\r\n  socket.send(JSON.stringify({\r\n    type: 'placeOwnLetter', \r\n    }));\r\n\r\n  setMessage(`Harf yerleÅŸtirildi: ${enteredLetter.toUpperCase()} (${tempPosition.row}, ${tempPosition.col})`);\r\n  setEnteredLetter('');\r\n  setTempPosition(null);\r\n  setSelectedCell(null);\r\n  setSelectedLetter(null);\r\n  updateTurnMessages(false, null);\r\n};\r\n\r\nconsole.log('[DEBUG] GameScreen render', {\r\n    gameEnded,\r\n    lastOpponentUsername,\r\n    gameOverData\r\n  });\r\nconst secondsLeft = parseInt(timer);\r\nuseEffect(() => {\r\n  if (!turnData && !gameStartedBefore) {\r\n    setMessage('ðŸŽ¯ Ä°lk harfler geliyor... HazÄ±r ol!');\r\n    setGameStartedBefore(true);\r\n  }\r\n}, [turnData, gameStartedBefore]);\r\n\r\nuseEffect(() => {\r\n  letterRefs.current = []; // Her render'da sÄ±fÄ±rlanmalÄ±\r\n}, [/* harf havuzu deÄŸiÅŸtiÄŸinde (genellikle sabit olduÄŸu iÃ§in boÅŸ bÄ±rakabilirsin) */]);\r\n\r\nreturn (\r\n<>\r\n<div className=\"fixed inset-0 flex flex-col items-center bg-[#f2f1f7] px-2 pt-[120px] pb-8 w-full min-h-screen overflow-hidden sm:relative sm:overflow-auto sm:h-auto sm:min-h-screen\">\r\n\r\n{previewLetter && (\r\n  <div\r\n    className=\"fixed z-50 pointer-events-none\"\r\n    style={{\r\n      top: previewPosition.y - 90, // â¬…ï¸ -60 yerine -90 veya -100 yap\r\n  left: previewPosition.x - 30,\r\n    }}\r\n  >\r\n    <div className=\"min-w-[60px] px-4 h-16 rounded-xl bg-white border border-gray-300 shadow-xl flex items-center justify-center text-4xl font-extrabold text-gray-900 scale-110 transition transform duration-75 ease-out\">\r\n      {previewLetter}\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n{/* Ãœst Bilgi BarÄ± */}\r\n<div className=\"w-full fixed top-0 left-0 z-50 px-4 py-2 sm:py-3 bg-white/90 backdrop-blur-md shadow-sm flex items-center justify-between border-b border-gray-200\">\r\n  <div className=\"flex items-center space-x-2\">\r\n    <img\r\n      src={fullProfileImage}\r\n      alt=\"Sen\"\r\n      className=\"w-8 h-8 rounded-full border border-indigo-400 object-cover\"\r\n    />\r\n    <div className=\"flex flex-col text-left\">\r\n      <p className=\"text-sm sm:text-base font-semibold text-gray-600 text-center w-full\">{username || 'Sen'}</p>\r\n      <p className=\"text-sm sm:text-base font-bold text-indigo-700\">{scores.myScore}</p>\r\n    </div>\r\n  </div>\r\n\r\n  {/* Rakip */}\r\n  <div className=\"flex items-center space-x-2 justify-end\">\r\n    <div className=\"flex flex-col text-right\">\r\n      <p className=\"text-xs sm:text-sm font-medium text-gray-700 truncate\">{opponentUsername || 'Rakip'}</p>\r\n      <p className=\"text-sm sm:text-base font-bold text-indigo-700\">{scores.opponentScore}</p>\r\n    </div>\r\n    <img\r\n      src={fullOpponentImage}\r\n      alt=\"Rakip\"\r\n      className=\"w-8 h-8 rounded-full border border-gray-400 object-cover\"\r\n    />\r\n  </div>\r\n</div>\r\n\r\n<div className=\"fixed top-[56px] left-0 w-full z-40 px-4 py-2 sm:py-3 bg-white/90 backdrop-blur-md shadow-md border-b border-gray-200\">\r\n<div className=\"flex items-center justify-between w-full max-w-[720px] mx-auto\">\r\n  {/* Sol: SÃ¼re kutusu */}\r\n  <div className=\"flex flex-col items-start w-24 sm:w-28\">\r\n    <p className=\"text-sm sm:text-base font-semibold text-gray-600 text-center w-full\">SÃ¼re</p>\r\n    <div\r\n      className={`flex items-center justify-center text-lg font-bold rounded-xl shadow text-center w-24 sm:w-28 h-10 sm:h-12 border\r\n        ${timer.includes('saat')\r\n        ? 'bg-green-100 text-green-700 border-green-200'\r\n        : timer.includes('dakika')\r\n        ? 'bg-yellow-100 text-yellow-700 border-yellow-200'\r\n        : timer.includes(':')\r\n        ? 'bg-red-100 text-red-600 border-red-200 animate-pulse'\r\n        : 'bg-gray-200 text-gray-500 border-gray-300'}\r\n    `}\r\n    >\r\n      {timer || '-'}\r\n    </div>\r\n  </div>\r\n\r\n  {/* Orta: Oyun adÄ± */}\r\n  <div className=\"text-4xl sm:text-5xl font-display font-black text-indigo-600 tracking-tight leading-tight drop-shadow-sm\">\r\n    Kelimo\r\n  </div>\r\n\r\n  {/* SaÄŸ: Gelen harf kutusu */}\r\n  <div className=\"flex flex-col items-end w-24 sm:w-28\">\r\n    <p className=\"text-sm sm:text-base font-semibold text-gray-600 text-center w-full\">Gelen Harf</p>\r\n    <div className=\"flex items-center justify-center text-lg font-bold text-indigo-800 rounded-xl shadow text-center w-24 sm:w-28 h-10 sm:h-12 border bg-indigo-50 border-indigo-200\">\r\n      {letterToPlace ? (\r\n        <span className=\"leading-none\">\r\n          {letterToPlace}\r\n          </span>\r\n      ) : (\r\n        <span className=\"text-gray-400 text-xl\">-</span>\r\n      )}\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n    {/* Mesaj AlanÄ± */}\r\n{/* Mesaj AlanÄ± */}\r\n<div className=\"w-full text-center mt-4 sm:mt-10 mb-2 sm:mb-2 px-4 space-y-1 sm:space-y-2\">\r\n  \r\n  {/* Bilgilendirici Mesaj */}\r\n  <div className=\"min-h-[20px]\">\r\n    <p className={`text-sm text-gray-500 italic transition-opacity duration-300 ${message ? 'opacity-100' : 'opacity-0'}`}>\r\n      {message || '.'}\r\n    </p>\r\n  </div>\r\n\r\n  {/* Hamle YÃ¶nlendirme MesajÄ± */}\r\n  <div className=\"min-h-[28px]\">\r\n    <p className={`text-lg font-bold text-blue-700 transition-opacity duration-300 ${turnInfo ? 'opacity-100' : 'opacity-0'}`}>\r\n      {turnInfo || '.'}\r\n    </p>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n    {/* Tahta BaÅŸlÄ±ÄŸÄ± */}\r\n    <div className=\"text-center\">\r\n\r\n      {/* Oyun TahtasÄ± */}\r\n<div className=\"w-[70vw] max-w-[340px] relative mx-auto\">\r\n  {/* Kare oran yaratÄ±cÄ± div */}\r\n  <div className=\"pt-[100%]\"></div>\r\n\r\n  {/* DÄ±ÅŸ Ã§erÃ§eve - eski gÃ¶rÃ¼nÃ¼m */}\r\n  <div className=\"absolute inset-0 bg-gray-200 border-2 border-gray-600 rounded-lg p-1 sm:p-1.5 md:p-2\">\r\n    <div className={`h-full w-full grid grid-cols-5 gap-[2.5%]`}>\r\n      {board.map((row, rowIndex) =>\r\n        row.map((cell, colIndex) => {\r\n          const isSelected =\r\n            selectedCell &&\r\n            selectedCell.row === rowIndex &&\r\n            selectedCell.col === colIndex;\r\n\r\n          return (\r\n            <div\r\n              key={`${rowIndex}-${colIndex}`}\r\n              onClick={() => handleCellClick(rowIndex, colIndex)}\r\n              className={`\r\n  aspect-square\r\n  w-full\r\n  border border-gray-300 rounded-lg\r\n  flex items-center justify-center \r\n  font-bold text-base sm:text-lg md:text-xl\r\n  cursor-pointer transition-all duration-150\r\n  ${cell ? 'bg-yellow-200 text-gray-900' : 'bg-white text-gray-600'}\r\n  ${isSelected ? 'ring-2 ring-yellow-300' : ''}\r\n  hover:bg-yellow-100\r\n  overflow-hidden\r\n  leading-none\r\n  text-center\r\n`}\r\n >\r\n              {cell || ''}\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n{/* ðŸ‘‰ Onayla Butonu tam buraya geliyor */}\r\n\r\n<div className=\"flex justify-center space-x-2 sm:space-x-4 mt-3 sm:mt-6\">\r\n\r\n  <button\r\n    title=\"GirdiÄŸin harfi onayla\"\r\n    onClick={confirmOwnLetter}\r\n    disabled={\r\n    buttonsDisabled ||\r\n  !selectedCell ||\r\n  !enteredLetter ||\r\n  !tempPosition\r\n  }\r\n    className={`flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-xl font-semibold text-white transition-all duration-150\r\n  ${buttonsDisabled || !selectedCell || !enteredLetter || !tempPosition\r\n    ? 'bg-green-200 text-gray-400 cursor-not-allowed'\r\n    : 'bg-green-400 hover:bg-green-500 active:scale-95 shadow-md active:shadow-inner cursor-pointer'\r\n  }`}\r\n  >\r\n    <Check className=\"w-5 h-5 sm:w-6 sm:h-6 mb-1\" />\r\n    <span className=\"text-xs font-semibold\">Onayla</span>\r\n  </button>\r\n  <button\r\n  title=\"GirdiÄŸin harfi geri al\"\r\n  onClick={() => {\r\n    if (!tempPosition) {\r\n      setMessage('Geri alÄ±nacak hamle yok.');\r\n      return;\r\n    }\r\n\r\n    const newBoard = board.map(r => [...r]);\r\n    newBoard[tempPosition.row][tempPosition.col] = '';\r\n    setBoard(newBoard);\r\n\r\n    setEnteredLetter('');\r\n    setTempPosition(null);\r\n    setSelectedCell(null);\r\n\r\n    socket.send(JSON.stringify({\r\n      type: 'updateOwnLetterPlacement',\r\n      letter: '',\r\n      row: tempPosition.row,\r\n      col: tempPosition.col,\r\n      oldRow: tempPosition.row,\r\n      oldCol: tempPosition.col\r\n    }));\r\n\r\n    setMessage('Son harf geri alÄ±ndÄ±.');\r\n  }}\r\n  disabled={buttonsDisabled}\r\n  className=\"flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-yellow-300 hover:bg-yellow-400 active:scale-95 text-gray-800 rounded-xl shadow-md active:shadow-inner transition-all duration-150\"\r\n>\r\n  <Undo2 className=\"w-5 h-5 sm:w-6 sm:h-6 mb-1\" />\r\n  <span className=\"text-xs font-semibold\">Geri Al</span>\r\n</button>\r\n<button\r\n  title=\"Oyunu terk et\"\r\n  onClick={() => {\r\n    socket.send(JSON.stringify({ type: 'forfeit' }));\r\n    setMessage('Oyundan Ã§ekildiniz.');\r\n  }}\r\n  disabled={buttonsDisabled}\r\n  className=\"flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-red-300 hover:bg-red-400 active:scale-95 text-gray-800 rounded-xl shadow-md active:shadow-inner transition-all duration-150\"\r\n>\r\n  <XCircle className=\"w-5 h-5 sm:w-6 sm:h-6 mb-1\" />\r\n  <span className=\"text-xs font-semibold\">Pes Et</span>\r\n</button>\r\n<button\r\n  title=\"Ana menÃ¼ye dÃ¶n\"\r\n  onClick={() => {\r\n    setCurrentScreen('start');\r\n    socket.send(JSON.stringify({ type: 'minimizeGame' }));\r\n  }}\r\n  disabled={false}\r\n  className=\"flex flex-col items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gray-400 hover:bg-gray-500 active:scale-95 text-white rounded-xl shadow-md active:shadow-inner transition-all duration-150\"\r\n>\r\n  <Home className=\"w-5 h-5 sm:w-6 sm:h-6 mb-1\" />\r\n  <span className=\"text-xs font-semibold\">Ana MenÃ¼</span>\r\n</button>\r\n\r\n\r\n\r\n{showGameOver && gameOverData && (\r\n  <GameOverScreen\r\n    data={gameOverData}\r\n    username={gameOverData.username}\r\n    playerScore={gameOverData.playerScore}\r\n    opponentScore={gameOverData.opponentScore}\r\n    playerDetails={gameOverData.playerDetails}\r\n    opponentDetails={gameOverData.opponentDetails}\r\n    playerBoardHTML={gameOverData.playerBoardHTML}\r\n    opponentBoardHTML={gameOverData.opponentBoardHTML}\r\n    onRematch={handleRematch}\r\n    rematchPending={rematchPending}\r\n    setRematchPending={setRematchPending}\r\n    socket={socket}\r\n  />\r\n)}\r\n\r\n</div>\r\n{/* Mobilde klavye ile butonlar arasÄ±nda boÅŸluk bÄ±rakmak iÃ§in gÃ¶rÃ¼nmez boÅŸluk */}\r\n<div className=\"block sm:hidden h-3\" />\r\n\r\n\r\n    </div>\r\n    \r\n{/* Harf Havuzu - Q Klavye 3 SatÄ±r */}\r\n<div className=\"block sm:hidden w-full px-2 flex flex-col items-center space-y-1\">\r\n {[\r\n    ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', 'Äž', 'Ãœ'],\r\n    ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'Åž', 'Ä°'],\r\n    ['Z', 'X', 'C', 'V', 'B', 'N', 'M', 'Ã–', 'Ã‡']\r\n  ].map((row, rowIndex) => (\r\n    \r\n    <div key={`row-${rowIndex}`}\r\n  className=\"flex justify-center gap-[1px] sm:gap-[1px]\">\r\n   {row.map((letter, i) => {\r\n    const isInactive = ['Q', 'W', 'X'].includes(letter);\r\n    return (\r\n        <div\r\n          key={`letter-${rowIndex}-${i}`}\r\n          ref={(el) => {\r\n  if (el) letterRefs.current.push(el);\r\n}}  // â¬…ï¸ Bu kutuyu refs listesine ekliyoruz\r\n  data-letter={letter}                       // â¬…ï¸ Bu kutunun hangi harf olduÄŸunu belirtiyoruz\r\n\r\n\r\n          onClick={() => {\r\n              if (!isInactive) handleLetterClick(letter);\r\n            }}\r\n            onTouchStart={(e) => {\r\n    if (!isInactive) {\r\n      const touch = e.touches[0];\r\n      setPreviewLetter(letter);                                // Harfi gÃ¶ster\r\n      setPreviewPosition({ x: touch.clientX, y: touch.clientY }); // ParmaÄŸÄ±n konumu\r\n    }\r\n  }}\r\n  onTouchEnd={(e) => {\r\n  const touch = e.changedTouches[0]; // ðŸŸ¡ ParmaÄŸÄ±n bÄ±rakÄ±ldÄ±ÄŸÄ± pozisyonu al\r\n  setPreviewLetter(null); // ðŸŸ¡ Ã–nizlemeyi kaldÄ±r\r\n\r\n  const hoveredLetter = letterRefs.current.find(el => {\r\n    const rect = el.getBoundingClientRect();\r\n    return (\r\n      touch.clientX >= rect.left &&\r\n      touch.clientX <= rect.right &&\r\n      touch.clientY >= rect.top &&\r\n      touch.clientY <= rect.bottom\r\n    );\r\n  });\r\n\r\n  if (hoveredLetter) {\r\n    const selected = hoveredLetter.getAttribute('data-letter');\r\n    if (!['Q', 'W', 'X'].includes(selected)) {\r\n      handleLetterClick(selected); // ðŸŸ¢ BÄ±rakÄ±ldÄ±ÄŸÄ±nda o harfi gerÃ§ek seÃ§im yap\r\n      setSelectedLetter(selected); // ðŸŸ¢ UI'da da gÃ¶ster\r\n    }\r\n  }\r\n}}\r\n  onTouchMove={(e) => {\r\n  const touch = e.touches[0];\r\n  setPreviewPosition({ x: touch.clientX, y: touch.clientY }); // â¬…ï¸ ParmaÄŸÄ±n pozisyonunu gÃ¼ncelle\r\n// â¬‡ï¸ Åžu anki parmak konumunun altÄ±nda bir harf kutusu var mÄ± kontrol et\r\n  const hoveredLetter = letterRefs.current.find(el => {\r\n    const rect = el.getBoundingClientRect();\r\n    return (\r\n      touch.clientX >= rect.left &&\r\n      touch.clientX <= rect.right &&\r\n      touch.clientY >= rect.top &&\r\n      touch.clientY <= rect.bottom\r\n    );\r\n  });\r\n\r\n  // â¬‡ï¸ EÄŸer farklÄ± bir harf altÄ±na geldiysek, Ã¶nizleme harfini gÃ¼ncelle\r\n  if (hoveredLetter) {\r\n    const newLetter = hoveredLetter.getAttribute('data-letter');\r\n    if (newLetter !== previewLetter) {\r\n      setPreviewLetter(newLetter);\r\n    }\r\n  }\r\n}}\r\n            className={`\r\n              w-[7.7vw] h-[10vw] sm:w-[6vw] sm:h-[7.6vw] md:w-[4.4vw] md:h-[6.2vw]\r\n              flex items-center justify-center\r\n              font-bold text-sm sm:text-base md:text-lg\r\n              rounded-xl border transition-all duration-150 ease-in-out\r\n              ${isInactive\r\n                ? 'bg-gray-200 text-gray-400 border-gray-300 cursor-not-allowed'\r\n                : `bg-white text-indigo-900 border-indigo-300 shadow cursor-pointer\r\n                   ${selectedLetter === letter ? 'ring-2 ring-indigo-500 bg-indigo-100 scale-110 -translate-y-1' : ''\r\n                   }`\r\n              }\r\n            `}\r\n          >\r\n            {letter}\r\n          </div>\r\n          );\r\n})}\r\n</div>\r\n))}\r\n</div>\r\n</div>\r\n</>\r\n);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}